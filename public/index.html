<!DOCTYPE html>
<html lang="nl">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>FitWolf | Ontketen het Beest in Jou</title>
  <style>
    /* Jouw werkende CSS uit index (16).html, met toevoegingen voor de AI-loader */
    * { margin: 0; padding: 0; box-sizing: border-box; font-family: 'Arial', sans-serif; }
    body { background-color: #000; color: #fff; overflow-x: hidden; line-height: 1.6; }
    @keyframes fadeIn { from { opacity: 0; transform: translateY(20px); } to { opacity: 1; transform: translateY(0); } }
    @keyframes fadeInBackground { 0% { opacity: 0; } 100% { opacity: 1; } }
    @keyframes slideInFromRight { 0% { transform: translateX(100%) translateY(-2vh); opacity: 0; } 100% { transform: translateX(0) translateY(-2vh); opacity: 1; } }
    @keyframes fadeInButton { from { opacity: 0; } to { opacity: 1; } }
    @keyframes spin { from { transform: rotate(0deg); } to { transform: rotate(360deg); } } /* NIEUW */

    #bg-image { position: fixed; top: 0; left: 0; width: 100%; height: 100%; background-image: url("fenrir_ref_pose01 uitgeknipt.jpg"); background-size: contain; background-position: center top; background-repeat: no-repeat; background-color: #000; z-index: -2; opacity: 1; animation: fadeInBackground 2s ease-in-out forwards; }
    #bg-image.fade-out { opacity: 0; transition: opacity 1s ease-out; }
    .scene { min-height: 100vh; padding: 20px; display: flex; flex-direction: column; justify-content: center; align-items: center; text-align: center; position: relative; }
    #scene2 { justify-content: flex-start; }
    h1, p { margin-bottom: 20px; opacity: 0; animation: fadeIn 1s forwards; }
    h2 { font-size: 1.8rem; margin-bottom: 20px; text-transform: uppercase; letter-spacing: 2px; color: #ff0000; text-shadow: 0 0 10px rgba(255,0,0,0.5); opacity: 0; animation: fadeIn 2s forwards 0.5s; }
    .cta-button { background: linear-gradient(45deg, #ff0000, #800000); color: white; border: none; padding: 15px 40px; font-size: 1.6rem; border-radius: 5px; cursor: pointer; text-transform: uppercase; font-weight: bold; letter-spacing: 1px; box-shadow: 0 5px 15px rgba(255,0,0,0.4); opacity: 0; animation: fadeIn 1s forwards 1.5s; margin-top: 30px; }
    #chooseButton.cta-button { margin-top: 0px; }
    .fade-in { animation: fadeInButton 0.3s forwards; }
    input[type=range], input[type=text], input[type=email] { width: 80%; max-width: 400px; margin-bottom: 10px; padding: 10px; border-radius: 5px; border: none; }
    .hidden { display: none; }
    .swiper-container { margin-top: 0px; width: 80vw; max-width: 400px; max-height: 70vh; overflow: visible; position: relative; touch-action: pan-y; }
    .swiper-wrapper { display: flex; transition: transform 0.5s ease; }
    .swiper-slide { min-width: 100%; display: flex; flex-direction: column; align-items: center; justify-content: flex-start; opacity: 0.5; transition: opacity 0.3s; }
    .swiper-slide.active { opacity: 1; }
    .swiper-slide img { margin-top: 0; cursor: pointer; max-height: 70vh; object-fit: contain; width: 80vw; max-width: 400px; animation: slideInFromRight 0.8s ease-out; }
    
    /* NIEUWE STYLING VOOR SCENE 7 */
    #scene7-form-content, #scene7-loading-content, #scene7-success-content { width: 100%; max-width: 28rem; animation: fadeIn 1s forwards; }
    .loader { width: 60px; height: 60px; border: 6px solid #444; border-top-color: #ff0000; border-radius: 50%; animation: spin 1s linear infinite; margin: 20px auto; }
    #success-checkmark { color: #22c55e; width: 100px; height: 100px; margin: 0 auto 20px auto; }
    .font-teko { font-family: 'Teko', sans-serif; }
    .font-roboto { font-family: 'Roboto', sans-serif; }
  </style>
</head>
<body>
  <div id="bg-image"></div>
  
  <!-- Scene 1 (Jouw code) -->
  <div class="scene" id="scene1">
    <h2 class="font-teko" style="font-size: 4.5rem; color: #ff0000;">Blijf geen schaap. Word een wolf!</h2>
    <p class="font-roboto" style="font-size: 1.5rem; font-weight: bold;">Ontvang Jouw GRATIS Persoonlijke Strijdplan!</p>
    <button class="cta-button font-teko" onclick="nextScene()" style="font-size: 2rem; margin-top: 2rem;">IK NEEM ACTIE</button>
  </div>
  
  <!-- Scene 2 (Jouw code, met .jpg fix) -->
  <div class="scene hidden" id="scene2">
    <h1 class="font-teko" style="font-size: 3rem;">Wie wil je zijn?</h1>
    <div class="swiper-container">
      <div class="swiper-wrapper" id="swiperWrapper">
        <div class="swiper-slide active">
          <img src="Fenrir-aankomen2.jpg" alt="Beast Mode" onclick="choosePathFinal()" onmouseenter="hoverSwipe(0)">
        </div>
        <div class="swiper-slide">
          <img src="Fenrir-afvallen2.jpg" alt="Predator Mode" onclick="choosePathFinal()" onmouseenter="hoverSwipe(1)">
        </div>
      </div>
    </div>
    <button id="chooseButton" class="cta-button fade-in" onclick="choosePathFinal()"></button>
  </div>
  
  <!-- Scene 3 t/m 6 (Jouw code) -->
   <div class="scene hidden" id="scene3">
    <video id="fenrirVideo" width="200" muted playsinline preload="auto"><source src="Dun-naar-dik.mp4" type="video/mp4"></video>
    <h1>Wie ben je nu?</h1>
    <label>Lengte (cm): <span id="heightVal">175</span></label>
    <input type="range" min="140" max="210" value="175" oninput="updateValue('heightVal', this.value)">
    <label>Gewicht (kg): <span id="weightVal">75</span></label>
    <input type="range" min="40" max="160" value="75" oninput="updateValue('weightVal', this.value)">
    <button class="cta-button" onclick="nextScene()">Volgende</button>
  </div>
  <div class="scene hidden" id="scene4">
	  <button onclick="resetToStart()">üîÑ Opnieuw starten</button>
    <h1>Wat voor werk doe je?</h1>
    <button class="cta-button" onclick="setLifestyle('Zittend')">üíº Zittend</button>
    <button class="cta-button" onclick="setLifestyle('Actief')">üí™ Actief</button>
    <button class="cta-button" onclick="setLifestyle('Wisselend')">üß∞ Wisselend</button>
  </div>
  <div class="scene hidden" id="scene5">
	  <button onclick="resetToStart()">üîÑ Opnieuw starten</button>
    <h1>Hoe vaak sport je per week?</h1>
    <button class="cta-button" onclick="setSport('Nooit')">‚ùå Nooit</button>
    <button class="cta-button" onclick="setSport('1‚Äì2x')">‚úåÔ∏è 1‚Äì2x</button>
    <button class="cta-button" onclick="setSport('3‚Äì5x')">‚öΩ 3‚Äì5x</button>
    <button class="cta-button" onclick="setSport('Elke dag')">‚ú® Elke dag</button>
  </div>
  <div class="scene hidden" id="scene6">
	  <button onclick="resetToStart()">üîÑ Opnieuw starten</button>
    <h1>Hoe goed let je op je voeding?</h1>
    <button class="cta-button" onclick="setNutrition('Ik eet wat ik wil')">üçø Ik eet wat ik wil</button>
    <button class="cta-button" onclick="setNutrition('Ik let een beetje op')">ü§î Ik let een beetje op</button>
    <button class="cta-button" onclick="setNutrition('Ik track alles')">‚úÖ Ik track alles</button>
  </div>
  
  <!-- Scene 7 (Nieuwe AI-simulatie flow) -->
  <div class="scene hidden" id="scene7">
    <div id="scene7-form-content">
        <h1 class="font-teko" style="font-size: 3rem;">De Laatste Stap...</h1>
        <p class="font-roboto">Vul je gegevens in om je AI-gegenereerde plan te ontvangen.</p>
        <input type="text" id="username" placeholder="Naam" style="color: black;"/>
        <input type="email" id="email" placeholder="E-mail" style="color: black;"/>
        <button class="cta-button font-teko" style="font-size: 1.8rem;" onclick="submitData()">Ontketen Mijn AI Coach!</button>
    </div>
    <div id="scene7-loading-content" class="hidden">
        <h1 class="font-teko" style="font-size: 2.5rem;">Analyse Bezig</h1>
        <div class="loader"></div>
        <p class="font-roboto">Fenrir's AI smeedt jouw persoonlijke Battleplan...</p>
    </div>
    <div id="scene7-success-content" class="hidden">
        <svg id="success-checkmark" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M9 12.75L11.25 15 15 9.75M21 12a9 9 0 11-18 0 9 9 0 0118 0z" /></svg>
        <h1 class="font-teko" style="font-size: 2.5rem; color: #22c55e;">Missie Geslaagd!</h1>
        <p class="font-roboto">Je unieke Battleplan is gegenereerd en is onderweg naar je inbox.</p>
    </div>
  </div>

<script>
  // Jouw werkende JS-code, met een aangepaste submitData functie
  let currentScene = 1;
  let path = '', lifestyle = '', sport = '', nutrition = '';
  const chooseButton = document.getElementById('chooseButton');

  function nextScene() {
    if (currentScene === 1) document.getElementById('bg-image').classList.add('fade-out');
    document.getElementById(`scene${currentScene}`).classList.add('hidden');
    currentScene++;
    document.getElementById(`scene${currentScene}`).classList.remove('hidden');
    if (currentScene === 3) {
      const video = document.getElementById('fenrirVideo');
      video.pause(); video.currentTime = 0;
      updateValue('heightVal', 175); updateValue('weightVal', 75);
    }
  }

  function choosePathFinal() {
    path = currentIndex === 0 ? 'Beast Mode' : 'Predator Mode';
    nextScene();
  }

  function updateValue(id, val) {
    document.getElementById(id).textContent = val;
    if (id === 'weightVal' || id === 'heightVal') {
      const weight = parseInt(document.getElementById('weightVal').textContent);
      const height = parseInt(document.getElementById('heightVal').textContent);
      const bmi = weight / Math.pow(height / 100, 2);
      const video = document.getElementById('fenrirVideo');
      const minBMI = 14, maxBMI = 40;
      const clampedBMI = Math.min(Math.max(bmi, minBMI), maxBMI);
      const percentage = (clampedBMI - minBMI) / (maxBMI - minBMI);
      if(video.duration) video.currentTime = video.duration * percentage;
    }
  }

  function setLifestyle(val) { lifestyle = val; nextScene(); }
  function setSport(val) { sport = val; nextScene(); }
  function setNutrition(val) { nutrition = val; nextScene(); }

  // NIEUWE submitData functie die de AI-flow simuleert
  function submitData() {
    const nameInput = document.getElementById('username');
    const emailInput = document.getElementById('email');
    if (nameInput.value.trim() === '' || emailInput.value.trim() === '') {
      alert('Vul alsjeblieft je naam en e-mailadres in.');
      return;
    }
    document.getElementById('scene7-form-content').classList.add('hidden');
    document.getElementById('scene7-loading-content').classList.remove('hidden');
    
    // Simuleer AI-generatie
    setTimeout(() => {
      document.getElementById('scene7-loading-content').classList.add('hidden');
      document.getElementById('scene7-success-content').classList.remove('hidden');
      sendMailInBackground(nameInput.value, emailInput.value);
    }, 4000); 
  }

  function sendMailInBackground(name, email) {
      // In een echte app zou dit een API call zijn, geen mailto.
      // Dit is voor jouw eigen administratie.
      console.log(`Zou nu een API call doen voor: ${name}, ${email}`);
  }

  let currentIndex = 0;
  const wrapper = document.getElementById('swiperWrapper');
  const slides = wrapper.querySelectorAll('.swiper-slide');
  function updateSlideStyles() {
    slides.forEach((slide, idx) => slide.classList.toggle('active', idx === currentIndex));
    wrapper.style.transform = `translateX(-${currentIndex * 100}%)`;
    chooseButton.textContent = currentIndex === 0 ? 'MONSTER- Spiermassa en kracht' : 'ROOFDIER - Vetverlies en definitie';
    chooseButton.classList.remove('fade-in'); void chooseButton.offsetWidth; chooseButton.classList.add('fade-in');
  }
  let xDown = null;
  wrapper.addEventListener('touchstart', evt => { xDown = evt.touches[0].clientX; }, false);
  wrapper.addEventListener('touchend', evt => {
    if (!xDown) return;
    const xUp = evt.changedTouches[0].clientX;
    const xDiff = xDown - xUp;
    if (Math.abs(xDiff) > 60) currentIndex = currentIndex === 0 ? 1 : 0;
    updateSlideStyles();
    xDown = null;
  });
  function hoverSwipe(targetIndex) {
    if (window.innerWidth > 768 && currentIndex !== targetIndex) {
      currentIndex = targetIndex;
      updateSlideStyles();
    }
  }

  function resetToStart() {
    currentScene = 1;
    document.querySelectorAll('.scene').forEach(scene => scene.classList.add('hidden'));
    document.getElementById('scene1').classList.remove('hidden');
    document.getElementById('bg-image').classList.remove('fade-out');
    document.getElementById('scene7-form-content').classList.remove('hidden');
    document.getElementById('scene7-success-content').classList.add('hidden');
    wrapper.style.transform = 'translateX(0%)';
    currentIndex = 0;
    updateSlideStyles();
  }
  updateSlideStyles(); // Initial call
</script>
</body>
</html>

