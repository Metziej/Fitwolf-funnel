<!DOCTYPE html>
<html lang="nl">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>FitWolf Saga | Start Jouw Transformatie</title>
  <link href="https://fonts.googleapis.com/css2?family=Rajdhani:wght@700&family=Roboto+Mono&display=swap" rel="stylesheet">
  <style>
    :root {
      --color-primary: #080808;
      --color-secondary: #F7F7F7;
      --color-accent: #FF3B30;
      --font-saga: 'Rajdhani', sans-serif;
      --font-data: 'Roboto Mono', monospace;
    }

    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      background-color: var(--color-primary);
      color: var(--color-secondary);
      font-family: var(--font-saga);
      overflow-x: hidden;
      background-image: url('https://www.transparenttextures.com/patterns/dark-concrete.png'); /* Brutalist Texture */
    }
    
    /* --- AWAKENING INTRO START --- */
    #awakening-overlay {
        position: fixed;
        top: 0;
        left: 0;
        width: 100vw;
        height: 100vh;
        background-color: #000;
        z-index: 9999;
        transition: opacity 1s ease-out;
        overflow: hidden; /* Hide shards that fly off-screen */
    }
    .glitch-word {
        font-family: var(--font-data);
        font-size: 2rem;
        color: rgba(255, 255, 255, 0.7);
        text-transform: uppercase;
        letter-spacing: 5px;
        opacity: 0;
        margin: 10px 0;
        animation: text-flicker 3s infinite alternate;
        position: absolute; /* Changed for dynamic positioning */
        transition: opacity 0.5s ease;
        display: none; /* Zorgt dat ze compleet onzichtbaar zijn bij het laden */
    }
    #awakening-logo {
        position: absolute;
        top: 50%;
        left: 50%;
        width: 150px;
        height: auto;
        opacity: 0;
        transform: translate(-50%, -50%) scale(0);
        transition: transform 0.3s ease-in, opacity 0.3s ease-in;
    }
    @keyframes text-flicker {
        0% { opacity: 0.1; text-shadow: 0 0 5px var(--color-accent); }
        5% { opacity: 1; text-shadow: 0 0 10px var(--color-accent); }
        10% { opacity: 0.2; }
        20% { opacity: 1; text-shadow: 0 0 15px var(--color-accent); }
        100% { opacity: 1; }
    }
    #awakening-overlay.shatter {
        animation: white-flash 0.3s ease-out;
    }

    @keyframes white-flash {
        0% { background-color: #000; }
        50% { background-color: #fff; }
        100% { background-color: #000; }
    }
    /* --- AWAKENING INTRO END --- */

    /* --- SHATTER EFFECT START --- */
    .shard {
        position: absolute;
        top: 50%;
        left: 50%;
        background: #111;
        transform-origin: center;
        transition: transform 0.8s cubic-bezier(0.19, 1, 0.22, 1), opacity 0.8s ease-out;
    }
    /* --- SHATTER EFFECT END --- */
    
    .saga-progress-container {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        padding: 10px 20px;
        background-color: rgba(0, 0, 0, 0.7);
        z-index: 1000;
        text-transform: uppercase;
        letter-spacing: 2px;
        backdrop-filter: blur(5px);
    }

    .saga-progress-bar {
        width: 100%;
        height: 5px;
        background-color: rgba(255, 255, 255, 0.2);
        margin-top: 5px;
    }

    #saga-progress-fill {
        width: 0%;
        height: 100%;
        background-color: var(--color-accent);
        transition: width 0.5s ease-in-out;
    }

    .scene {
      min-height: 100vh;
      display: flex;
      flex-direction: column;
      justify-content: center;
      align-items: center;
      text-align: center;
      padding: 20px;
      transition: opacity 0.5s ease-out, transform 0.5s ease-out;
    }

    .scene.hidden {
      display: none;
    }
    
    h1, h2 {
        font-family: var(--font-saga);
        text-transform: uppercase;
        letter-spacing: 3px;
        margin-bottom: 20px;
    }
    
    /* Glitch Animation */
    .glitch {
        font-size: 3rem;
        position: relative;
    }

    .glitch::before,
    .glitch::after {
        content: attr(data-text);
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: var(--color-primary);
    }
    .glitch::before {
        left: 2px;
        text-shadow: -2px 0 var(--color-accent);
        clip-path: polygon(0 0, 100% 0, 100% 45%, 0 45%);
        animation: glitch-anim-2 2.5s infinite;
    }
    .glitch::after {
        left: -2px;
        text-shadow: -2px 0 #00ffff, 2px 2px var(--color-accent);
        clip-path: polygon(0 55%, 100% 55%, 100% 100%, 0 100%);
        animation: glitch-anim-1 2.5s infinite;
    }

    @keyframes glitch-anim-1 { 0%, 100% { clip-path: polygon(0 55%, 100% 55%, 100% 100%, 0 100%); } 5%, 8% { clip-path: polygon(0 70%, 100% 70%, 100% 100%, 0 100%); } 10%, 13% { clip-path: polygon(0 40%, 100% 40%, 100% 100%, 0 100%); } 30%, 33% { clip-path: polygon(0 60%, 100% 60%, 100% 100%, 0 100%); } 50%, 53% { clip-path: polygon(0 20%, 100% 20%, 100% 100%, 0 100%); } }
    @keyframes glitch-anim-2 { 0%, 100% { clip-path: polygon(0 0, 100% 0, 100% 45%, 0 45%); } 3%, 6% { clip-path: polygon(0 0, 100% 0, 100% 20%, 0 20%); } 12%, 15% { clip-path: polygon(0 0, 100% 0, 100% 60%, 0 60%); } 40%, 43% { clip-path: polygon(0 0, 100% 0, 100% 30%, 0 30%); } 60%, 63% { clip-path: polygon(0 0, 100% 0, 100% 80%, 0 80%); } }


    .cta-button {
      background: transparent;
      border: 2px solid var(--color-accent);
      color: var(--color-secondary);
      padding: 15px 30px;
      font-family: var(--font-saga);
      text-transform: uppercase;
      letter-spacing: 2px;
      cursor: pointer;
      transition: all 0.3s ease;
      box-shadow: 0 0 0px var(--color-accent);
      animation: pulseGlow 2s infinite;
      margin-top: 20px;
    }
    
    .cta-button:hover {
        background: var(--color-accent);
        color: var(--color-primary);
        box-shadow: 0 0 25px var(--color-accent);
    }

    @keyframes pulseGlow {
        0% { box-shadow: 0 0 5px var(--color-secondary); }
        50% { box-shadow: 0 0 20px var(--color-secondary); }
        100% { box-shadow: 0 0 5px var(--color-secondary); }
    }

    /* Scene 2 Swiper */
    .swiper-container {
        width: 100%;
        max-width: 400px;
        position: relative;
        overflow: hidden;
    }
    .swiper-wrapper {
        display: flex;
        transition: transform 0.5s ease-in-out;
    }
    .swiper-slide {
        flex: 0 0 100%;
        padding: 20px;
        opacity: 0.5;
        transform: scale(0.8);
        transition: opacity 0.5s ease, transform 0.5s ease;
    }
    .swiper-slide.active {
        opacity: 1;
        transform: scale(1);
    }
    .swiper-slide img {
        max-width: 100%;
        height: auto;
        border-radius: 8px;
        cursor: pointer;
    }
    .path-title {
        margin-top: 10px;
        text-transform: uppercase;
        font-size: 1.2rem;
    }
    
    /* Scene 3 Video Slider */
    .video-container {
        position: relative;
        width: 80%;
        max-width: 500px;
        margin: 20px auto;
    }
    #bmiVideo {
        width: 100%;
    }
    .slider {
        -webkit-appearance: none;
        width: 80%;
        max-width: 400px;
        height: 5px;
        background: rgba(255,255,255,0.3);
        outline: none;
        margin-top: 20px;
    }
    .slider::-webkit-slider-thumb {
        -webkit-appearance: none;
        appearance: none;
        width: 25px;
        height: 25px;
        background: var(--color-accent);
        cursor: pointer;
        border-radius: 50%;
    }
    
    .stats-screen {
        font-family: var(--font-data);
        font-size: 1.2rem;
        margin-top: 10px;
        min-height: 2em; /* Prevent layout shift */
    }

    /* Scene 4-6 Buttons */
    .choice-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
        gap: 15px;
        width: 100%;
        max-width: 600px;
    }
    .choice-btn {
        background-color: transparent;
        border: 2px solid var(--color-secondary);
        color: var(--color-secondary);
        padding: 20px;
        cursor: pointer;
        transition: all 0.3s ease;
        font-family: var(--font-saga);
        text-transform: uppercase;
        font-size: 1rem;
    }
    .choice-btn:hover, .choice-btn.selected {
        background-color: var(--color-accent);
        border-color: var(--color-accent);
    }
    
    /* Scene 7 Form */
    .scroll-form input {
        width: 100%;
        max-width: 400px;
        padding: 15px;
        margin-bottom: 15px;
        background: transparent;
        border: none;
        border-bottom: 2px solid var(--color-secondary);
        color: var(--color-secondary);
        font-family: var(--font-data);
        font-size: 1rem;
        text-align: center;
    }
    .scroll-form input:focus {
        outline: none;
        border-bottom-color: var(--color-accent);
    }
    #confirmation-message {
        margin-top: 20px;
        color: var(--color-accent);
        font-family: var(--font-data);
        font-size: 1.2rem;
    }

  </style>
</head>
<body>

  <div id="awakening-overlay">
    <div id="glitch-word1" class="glitch-word">Middelmatigheid...</div>
    <div id="glitch-word2" class="glitch-word">Twijfel...</div>
    <div id="glitch-word3" class="glitch-word">Uitstel...</div>
    <div id="glitch-word4" class="glitch-word">Nog een dag...</div>
    <img src="fenrir_ref_pose01 uitgeknipt.png" id="awakening-logo" alt="FitWolf Logo">
  </div>

  <div class="saga-progress-container">
    <p id="progress-text">SAGA PROGRESS: 0% COMPLETE</p>
    <div class="saga-progress-bar">
      <div id="saga-progress-fill"></div>
    </div>
  </div>

  <div id="scene1" class="scene hidden">
    <h1 class="glitch" data-text="BLIJF GEEN FIGURANT">BLIJF GEEN FIGURANT</h1>
    <h2>Ontwaak je innerlijke wolf!</h2>
    <button class="cta-button" onclick="nextScene()">Start Mijn Verhaal</button>
  </div>

  <div id="scene2" class="scene hidden">
    <h2>Kies je Pad. Welke Wolf Wil Jij Zijn?</h2>
    <div class="swiper-container">
      <div class="swiper-wrapper" id="swiperWrapper">
        <div class="swiper-slide active" data-path="Juggernaut">
          <img src="Fenrir-aankomen2.png" alt="Juggernaut Pad" onmouseenter="hoverSwipe(0)">
          <p class="path-title">PATH OF THE JUGGERNAUT</p>
        </div>
        <div class="swiper-slide" data-path="Predator">
          <img src="Fenrir-afvallen2.png" alt="Predator Pad" onmouseenter="hoverSwipe(1)">
          <p class="path-title">PATH OF THE PREDATOR</p>
        </div>
      </div>
    </div>
    <button id="chooseButton" class="cta-button" onclick="handleChoiceAndNextScene('path', getCurrentPath())">SLUIT DIT PAD AF</button>
  </div>

  <div id="scene3" class="scene hidden">
      <h2>CONFRONTEER DE REALITEIT. ANALYSE VAN JE BASE STATS.</h2>
      <div class="video-container">
        <video id="bmiVideo" preload="auto" muted playsinline>
            <source src="Dun-naar-dik.mp4" type="video/mp4">
        </video>
      </div>
      <input type="range" min="0" max="100" value="50" class="slider" id="bmiSlider">
      <p class="stats-screen" id="stats-output">Base Stat: Gemiddeld</p>
      <button class="cta-button" onclick="handleChoiceAndNextScene('physique', document.getElementById('stats-output').textContent)">DATA GEREGISTREERD</button>
  </div>
  
  <div id="scene4" class="scene hidden">
    <h2>Analyseer je dagelijkse strijd.</h2>
    <div class="choice-grid" id="work-choices">
        <button class="choice-btn" data-value="zittend">üíº Zittend werk</button>
        <button class="choice-btn" data-value="actief">üí™ Actief werk</button>
    </div>
  </div>

  <div id="scene5" class="scene hidden">
    <h2>Evalueer je huidige training.</h2>
    <div class="choice-grid" id="sport-choices">
        <button class="choice-btn" data-value="geen">‚ùå Geen sport</button>
        <button class="choice-btn" data-value="soms">‚öΩ Af en toe</button>
        <button class="choice-btn" data-value="regelmatig">üèÜ Regelmatig</button>
    </div>
  </div>

  <div id="scene6" class="scene hidden">
    <h2>Beoordeel je brandstof.</h2>
    <div class="choice-grid" id="food-choices">
        <button class="choice-btn" data-value="alles">üçø Ik eet alles</button>
        <button class="choice-btn" data-value="beetje">ü§î Ik let een beetje op</button>
        <button class="choice-btn" data-value="strikt">‚úÖ Ik eet strikt</button>
    </div>
  </div>

  <div id="scene7" class="scene hidden">
      <h2>HET TRANSCENDENT SIGIL HEEFT GESPROKEN.</h2>
      <p style="margin-bottom: 30px;">VUL DE SCROLL OM JE STRIJDPLAN TE ONTVANGEN.</p>
      <div class="scroll-form">
          <input type="text" id="userName" placeholder="> VOORNAAM" required>
          <input type="email" id="userEmail" placeholder="> E-MAILADRES" required>
      </div>
      <button class="cta-button" onclick="submitSaga()">ZEGEL MIJN LOT</button>
      <div id="confirmation-message"></div>
  </div>


  <script>
    // --- AWAKENING INTRO SCRIPT START ---
    window.addEventListener('load', () => {
        const overlay = document.getElementById('awakening-overlay');
        const words = [
            document.getElementById('glitch-word1'),
            document.getElementById('glitch-word2'),
            document.getElementById('glitch-word3'),
            document.getElementById('glitch-word4')
        ];
        const logo = document.getElementById('awakening-logo');
        const scene1 = document.getElementById('scene1');

        // Function to set words at random positions
        function setRandomPosition(element) {
            // We'll use viewport units for responsiveness, ensuring words are well distributed.
            let top, left;

            // Avoid the vertical center (between 35% and 65% of the viewport height)
            if (Math.random() > 0.5) {
                top = Math.random() * 30 + 5; // Places word in the top part (5% to 35%)
            } else {
                top = Math.random() * 30 + 65; // Places word in the bottom part (65% to 95%)
            }

            // Use wider horizontal distribution, especially on larger screens.
            if (window.innerWidth > 768) { // Desktop
                left = Math.random() > 0.5 ? Math.random() * 30 + 5 : Math.random() * 30 + 65; // Places word on the far left or right
            } else { // Mobile
                left = Math.random() * 80 + 10; // More horizontal freedom on smaller screens (10% to 90%)
            }

            element.style.top = `${top}vh`;
            element.style.left = `${left}vw`;
            element.style.transform = 'translate(-50%, -50%)'; // This centers the word on the random point
        }

        // The sequence
        words.forEach((word, index) => {
            setTimeout(() => {
                setRandomPosition(word);
                word.style.display = 'block'; // Maak het element eerst onderdeel van de layout
                
                // Een kleine vertraging is nodig om de browser de display-wijziging te laten verwerken
                // zodat de opacity-transitie correct werkt.
                setTimeout(() => {
                    word.style.opacity = '1';
                }, 20);

            }, 1000 * (index + 0.5));
        });

        // The climax: Shatter effect
        setTimeout(() => {
            overlay.classList.add('shatter'); // White flash for impact
            createShatterEffect(overlay); // Create glass shards

            words.forEach(word => {
                word.style.opacity = '0';
            });
            
            logo.style.opacity = '1';
            logo.style.transform = 'translate(-50%, -50%) scale(1)';
        }, 5000);
        
        // Hide the overlay and show the main content
        setTimeout(() => {
            overlay.style.opacity = '0';
            overlay.style.pointerEvents = 'none'; // Makes the overlay unclickable
            
            scene1.classList.remove('hidden');
            scene1.style.opacity = '0';
            scene1.style.transform = 'translateY(20px)';
             setTimeout(() => {
                scene1.style.opacity = '1';
                scene1.style.transform = 'translateY(0)';
            }, 50);

        }, 5500);
    });

    function createShatterEffect(container) {
        const numShards = 40;
        for (let i = 0; i < numShards; i++) {
            const shard = document.createElement('div');
            shard.classList.add('shard');

            // Random size and shape for a more realistic shatter
            const size = Math.random() * 60 + 20; // 20px to 80px
            shard.style.width = `${size}px`;
            shard.style.height = `${size}px`;
            shard.style.background = `hsl(0, 0%, ${Math.random() * 15}%)`; // Shades of dark gray
            shard.style.clipPath = `polygon(${Math.random()*100}% ${Math.random()*100}%, ${Math.random()*100}% ${Math.random()*100}%, ${Math.random()*100}% ${Math.random()*100}%)`;
            shard.style.transform = 'translate(-50%, -50%)';

            container.appendChild(shard);

            // Animate it flying outwards
            setTimeout(() => {
                const angle = Math.random() * 360;
                const distance = Math.random() * window.innerWidth * 0.7 + 100;
                const rotation = Math.random() * 1080 - 540;

                const x = Math.cos(angle * Math.PI / 180) * distance;
                const y = Math.sin(angle * Math.PI / 180) * distance;

                shard.style.transform = `translate(-50%, -50%) translate(${x}px, ${y}px) rotate(${rotation}deg)`;
                shard.style.opacity = '0';
            }, 10); 
        }
    }
    // --- AWAKENING INTRO SCRIPT END ---

    let currentScene = 1;
    const totalScenes = 7;
    const userData = {
        path: null,
        physique: null,
        work: null,
        sport: null,
        food: null,
        name: null,
        email: null,
    };

    function updateProgressBar() {
        // We start the "real" saga at scene 1, so progress is 0 until scene 2
        const progress = currentScene <= 1 ? 0 : ((currentScene -1) / (totalScenes-1)) * 100;
        document.getElementById('saga-progress-fill').style.width = `${progress}%`;
        document.getElementById('progress-text').textContent = `SAGA PROGRESS: ${Math.round(progress)}% COMPLETE`;
    }

    function nextScene() {
      if (currentScene >= totalScenes) return;

      const current = document.getElementById(`scene${currentScene}`);
      current.style.opacity = '0';
      current.style.transform = 'translateY(-20px)';
      
      setTimeout(() => {
        current.classList.add('hidden');
        currentScene++;
        const next = document.getElementById(`scene${currentScene}`);
        if (next) {
            next.classList.remove('hidden');
            next.style.opacity = '0';
            next.style.transform = 'translateY(20px)';
            setTimeout(() => {
                next.style.opacity = '1';
                next.style.transform = 'translateY(0)';
            }, 50);
        }
        updateProgressBar();
      }, 500);
    }
    
    function handleChoiceAndNextScene(key, value) {
        userData[key] = value;
        nextScene();
    }

    // SCENE 2: Swiper Logic
    let currentIndex = 0;
    const wrapper = document.getElementById('swiperWrapper');
    const slides = wrapper.querySelectorAll('.swiper-slide');
    const chooseButton = document.getElementById('chooseButton');

    function updateSlideStyles() {
        slides.forEach((slide, index) => {
            slide.classList.toggle('active', index === currentIndex);
        });
        wrapper.style.transform = `translateX(-${currentIndex * 100}%)`;
        const path = getCurrentPath().toUpperCase();
        chooseButton.textContent = `SLUIT HET ${path} PAD AF`;
    }

    function getCurrentPath() {
        return slides[currentIndex].dataset.path;
    }

    function hoverSwipe(targetIndex) {
        if (window.innerWidth > 768 && currentIndex !== targetIndex) { // Only works on desktop
            currentIndex = targetIndex;
            updateSlideStyles();
        }
    }
    
    let xDown = null;
    wrapper.addEventListener('touchstart', evt => { xDown = evt.touches[0].clientX; }, {passive: true});
    wrapper.addEventListener('touchend', evt => {
        if (!xDown) return;
        const xUp = evt.changedTouches[0].clientX;
        const xDiff = xDown - xUp;
        if (Math.abs(xDiff) > 50) { // Swipe threshold
             currentIndex = currentIndex === 0 ? 1 : 0;
             updateSlideStyles();
        }
        xDown = null;
    });

    // SCENE 3: Body Visualizer Logic
    const bmiSlider = document.getElementById('bmiSlider');
    const bmiVideo = document.getElementById('bmiVideo');
    const statsOutput = document.getElementById('stats-output');

    if (bmiVideo) {
        bmiVideo.addEventListener('loadedmetadata', () => {
             bmiSlider.addEventListener('input', () => {
                const percentage = bmiSlider.value / 100;
                if(bmiVideo.duration) {
                    bmiVideo.currentTime = bmiVideo.duration * percentage;
                }
                
                let statText = "Base Stat: Gemiddeld";
                if (percentage < 0.2) {
                    statText = "Base Stat: Extreem Mager";
                } else if (percentage < 0.4) {
                    statText = "Base Stat: Afgetraind";
                } else if (percentage < 0.6) {
                    statText = "Base Stat: Gemiddeld";
                } else if (percentage < 0.8) {
                    statText = "Base Stat: Fors";
                } else {
                    statText = "Base Stat: Zwaar Overgewicht";
                }
                statsOutput.textContent = statText;
            });
        });
    }
    
    // SCENE 4-6: Choice Logic
    document.querySelectorAll('.choice-grid').forEach(grid => {
        grid.addEventListener('click', (e) => {
            if (e.target.classList.contains('choice-btn')) {
                // Remove 'selected' from siblings
                [...e.target.parentElement.children].forEach(child => child.classList.remove('selected'));
                // Add 'selected' to clicked button
                e.target.classList.add('selected');
                
                const key = grid.id.split('-')[0];
                const value = e.target.dataset.value;
                
                // Automatically go to next scene after choice
                setTimeout(() => handleChoiceAndNextScene(key, value), 400);
            }
        });
    });

    // SCENE 7: Submission Logic
    function submitSaga() {
        const nameInput = document.getElementById('userName');
        const emailInput = document.getElementById('userEmail');
        const confirmationMsg = document.getElementById('confirmation-message');
        
        if (!nameInput.value || !emailInput.value) {
            confirmationMsg.textContent = "> VUL ALLE VELDEN IN.";
            return;
        }

        userData.name = nameInput.value;
        userData.email = emailInput.value;

        // Simulate submission
        console.log("--- SAGA GEGEVENS VERZONDEN ---");
        console.log(userData);

        confirmationMsg.textContent = `> ${userData.name.toUpperCase()}, JE SAGA IS BEGONNEN. CHECK JE MAIL.`;
        
        // Disable form
        nameInput.disabled = true;
        emailInput.disabled = true;
        document.querySelector('#scene7 .cta-button').disabled = true;
    }

    // Initialize
    updateProgressBar();
    updateSlideStyles();

  </script>
</body>
</html>

